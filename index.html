<!DOCTYPE html>
<html><!-- TODO: convert back to XHTML: <html xmlns="http://www.w3.org/1999/xhtml" lang="en"> -->
  <head>
    <meta charset="utf-8" />
    <title>Live rST playground</title>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.21.3/full/pyodide.js"></script>
    <style>
      form {
        margin: 1em 0.5em;
        display: grid;
        grid-template-columns: calc((100% - 1em) / 2) calc((100% - 1em) / 2);
        column-gap: 1em;
      }
      textarea, output {
        border: 1px solid grey;
        border-radius: 3px;
        padding: 0.5em;
        margin: 0;
      }
      output { white-space: pre; }
    </style>
  </head>
  <body>
    This is a demo of rendering reStructuredText (rST) to HTML entirely in the browser,
    using <a href="https://pyodide.org">Pyodide</a>
    to run <a href="https://docutils.sourceforge.io">docutils</a>.
    Source code <a href="https://pyodide.org">on GitHub</a>.

    <!-- <form oninput="html_output.value=rst_input.value"> -->
    <form>
      <label for="rst-input">reStructuredText input</label>
      <label for="html-output">HTML output</label>
      <textarea name="rst_input" id="rst-input" disabled></textarea><!--temporarily disabled because I can't get multiline input to work yet"-->
      <output name="html_output" id="html-output" for="rst-source"></output>
    </form>
    <hr/>
    <!-- trying an input element as a stopgap,
         since I haven't yet figured out how to process a multiline input string
         into the publish_string() method -->
    <input id="rst-input2" type="text"></input>
    <iframe id="iframe0" src="" frameborder="0"></iframe> <!-- src="data:text/html,<p>WHAT??</p>" -->
    <button onclick="rstToHtml()">Run</button>

    <script src="script.js"></script>
  </body>
</html>
